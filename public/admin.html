<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin Dashboard</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: linear-gradient(135deg, #2e2e2e, #1c1c1c);
      color: #f0f0f0;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
    }
    .starflakes {
      pointer-events: none;
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 0;
    }
    .starflake {
      position: absolute;
      top: -10px;
      width: 4px;
      height: 4px;
      background: linear-gradient(45deg, #ff7a29, #ffaa44);
      border-radius: 50%;
      opacity: 0.9;
      filter: drop-shadow(0 0 6px #ff7a29);
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
      animation-fill-mode: forwards;
    }
    .starflake:nth-child(1) { left: 10%; animation-duration: 8s; animation-delay: 0s; width: 3px; height: 3px; opacity: 0.6; }
    .starflake:nth-child(2) { left: 20%; animation-duration: 12s; animation-delay: 3s; }
    .starflake:nth-child(3) { left: 35%; animation-duration: 10s; animation-delay: 1s; width: 3px; height: 3px; opacity: 0.7; }
    .starflake:nth-child(4) { left: 50%; animation-duration: 15s; animation-delay: 5s; width: 5px; height: 5px; opacity: 0.9; }
    .starflake:nth-child(5) { left: 65%; animation-duration: 11s; animation-delay: 2s; opacity: 0.8; }
    .starflake:nth-child(6) { left: 80%; animation-duration: 9s; animation-delay: 4s; width: 3px; height: 3px; opacity: 0.5; }
    .starflake:nth-child(7) { left: 90%; animation-duration: 13s; animation-delay: 1s; opacity: 0.7; }

    @keyframes fall {
      0% { top: -10px; transform: translateX(0) rotate(0deg); opacity: 0.9; }
      100% { top: 110vh; transform: translateX(40px) rotate(360deg); opacity: 0; }
    }

    header {
      background-color: #222;
      padding: 20px 80px;
      box-shadow: 0 2px 10px rgba(255, 122, 41, 0.3);
      color: #ff7a29;
      font-size: 1.8rem;
      font-weight: 700;
      z-index: 1;
      position: relative;
    }
    main {
      flex-grow: 1;
      padding: 50px 80px;
      max-width: 1400px;
      width: 100%;
      margin: 20px auto 40px;
      background-color: #333;
      border-radius: 16px;
      box-shadow: 0 10px 50px rgba(255, 122, 41, 0.4);
      color: #eee;
      position: relative;
      z-index: 1;
    }
    h2 {
      color: #ff7a29;
      margin-bottom: 20px;
    }
    section {
      margin-bottom: 30px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }
    th, td {
      padding: 10px 16px;
      border: 1px solid #ff7a29;
      text-align: left;
      font-size: 1rem;
    }
    th {
      background-color: #ff7a2944;
    }
    button {
      background-color: #ff7a29;
      border: none;
      padding: 12px 28px;
      color: white;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-top: 10px;
      font-size: 1rem;
    }
    button:hover {
      background-color: #e66a1f;
    }
  </style>
</head>
<body>
  <div class="starflakes" aria-hidden="true">
    <div class="starflake"></div>
    <div class="starflake"></div>
    <div class="starflake"></div>
    <div class="starflake"></div>
    <div class="starflake"></div>
    <div class="starflake"></div>
    <div class="starflake"></div>
  </div>

  <header>
    CoreAPI Admin Panel
  </header>

  <main>
    <section>
      <h2>Server Stats</h2>
      <table id="stats-table">
        <thead><tr><th>Statistic</th><th>Value</th></tr></thead>
        <tbody><tr><td>Loading...</td><td></td></tr></tbody>
      </table>
    </section>

    <section>
      <h2>Manage Users</h2>
      <table id="users-table">
        <thead><tr><th>User ID</th><th>Username</th><th>Status</th><th>Actions</th></tr></thead>
        <tbody><tr><td colspan="4">Loading users...</td></tr></tbody>
      </table>
      <button>Add New User</button>
    </section>
  </main>

  <script>
    // Replace with your real API URLs
    const STATS_API = "/api/stats";
    const USERS_API = "/api/users";

    async function fetchStats() {
      try {
        const res = await fetch(STATS_API);
        if (!res.ok) throw new Error("Failed to fetch stats");
        return await res.json();
      } catch (e) {
        console.error(e);
        return null;
      }
    }

    async function fetchUsers() {
      try {
        const res = await fetch(USERS_API);
        if (!res.ok) throw new Error("Failed to fetch users");
        return await res.json();
      } catch (e) {
        console.error(e);
        return null;
      }
    }

    function populateStats(stats) {
      const tbody = document.querySelector("#stats-table tbody");
      if (!stats) {
        tbody.innerHTML = "<tr><td colspan='2'>Failed to load stats.</td></tr>";
        return;
      }
      tbody.innerHTML = "";
      for (const [key, value] of Object.entries(stats)) {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${key}</td><td>${value}</td>`;
        tbody.appendChild(tr);
      }
    }

    function populateUsers(users) {
      const tbody = document.querySelector("#users-table tbody");
      if (!users || !users.length) {
        tbody.innerHTML = "<tr><td colspan='4'>No users found.</td></tr>";
        return;
      }
      tbody.innerHTML = "";
      users.forEach(user => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${user.id}</td>
          <td>${user.username}</td>
          <td>${user.status}</td>
          <td><button>Edit</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    window.addEventListener("DOMContentLoaded", async () => {
      const stats = await fetchStats();
      populateStats(stats);

      const users = await fetchUsers();
      populateUsers(users);
    });
  </script>
</body>
</html>
